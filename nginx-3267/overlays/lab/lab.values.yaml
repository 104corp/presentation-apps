web:
  image:
    repository: ghcr.io/104corp/bitnami/nginx
    tag: 1.24.0
  extraContainers:
    - name: nodejs
      image:
        repository: ghcr.io/104corp/nodejs
        tag: v2
      resources:
        limits:
          cpu: 200m
          memory: 128Mi
        requests:
          cpu: 100m
          memory: 64Mi
      ports:
      - containerPort: 8081
        protocol: TCP
        name: nodejs
      readinessProbe: # 偵測應用程式是否 ready
        enabled: true
        initialDelaySeconds: 5  # 延遲開始確認時間
        periodSeconds: 60       # 每 N 秒打一次
        timeoutSeconds: 5       # N 秒逾時
        successThreshold: 1     # 若成功回應一次就算本次成功
        failureThreshold: 3     # 重試三次後才算失敗
        httpGet:
          path: /
          port: 8081
      livenessProbe: # 偵測應用程式是否正常運行
        enabled: true
        initialDelaySeconds: 5  # 延遲開始確認時間
        periodSeconds: 60       # 每 N 秒打一次
        timeoutSeconds: 3       # N 秒逾時
        successThreshold: 1     # 若成功回應一次就算本次成功
        failureThreshold: 3     # 重試三次後才算失敗
        httpGet:
          path: /
          port: 8081
    - name: busybox
      image: 
        repository: ghcr.io/104corp/network-tools
        tag: v1
      command: ["sh", "-c", "tail -f /dev/null"]
      resources:
        limits:
          cpu: 200m
          memory: 128Mi
        requests:
          cpu: 100m
          memory: 64Mi
